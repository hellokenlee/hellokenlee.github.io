<!DOCTYPE html>
<head>
	<title>HelloKenLee-Blog</title>
	<!-- mathjax config similar to math.stackexchange -->
	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
	    jax: ["input/TeX", "output/HTML-CSS"],
	    tex2jax: {
	        inlineMath: [ ['$', '$'] ],
	        displayMath: [ ['$$', '$$']],
	        processEscapes: true,
	        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
	    },
	    messageStyle: "none",
	    "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
	});
	</script>
	<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<html>
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Leetcode 624. Maximum Distance in Arrays 解题报告</title>

	<link rel="shortcut icon" href="/styles/images/favicon.jpg">
	<link rel="icon" href="/styles/images/favicon.jpg">

	<link rel="stylesheet" href="/styles/css/syntax.css">
	<link rel="stylesheet" href="/styles/css/index.css">
	<link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
	<link rel="canonical" href="/2017/06/18/leetcode-624/">
	<link rel="alternate" type="application/rss+xml" title="HelloKenLee" href="/feed.xml">
	
	<meta name="description" content="meta_des">

	<script src="/styles/js/jquery.min.js"></script>
	<!--[if lt IE 9]>
    	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  	<![endif]-->
  	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "//hm.baidu.com/hm.js?94be4b0f9fc5d94cc0d0415ea6761ae9";
		  var s = document.getElementsByTagName("script")[0]; 
		  s.parentNode.insertBefore(hm, s);
		})();
	</script>
  	<style type="text/css">
	  	.docs-content{
	  		margin-bottom: 10px;
	  	}
  	</style>
</head>
	<body class="index">
		<header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
	<div class="navbar-header">
	  <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
	  </button>
	  <a href="/" class="navbar-brand">
		<img src="/styles/images/logo.jpg">
	  </a>
	</div>
	<nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
	  <ul class="nav navbar-nav">	
		<li>
		  <a href="/">首页</a>
		</li>
		<li>
		  <a href="/categories/">分类</a>
		</li>
		<li>
		  <a href="/tag/">标签</a>
		</li>
		<li>
		  <a href="/isaac/">以撒</a>
		</li>
	  </ul>
	  <ul class="nav navbar-nav navbar-right">
		<li class="dropdown">
		  <a href="#" class="dropdown-toggle" data-toggle="dropdown">关于<b class="caret"></b></a>
		  <ul class="dropdown-menu">
			<li><a rel="nofollow" target="_blank" href="/resume/">AboutMe</a></li>
			<li class="divider"></li>
			<li><a rel="nofollow" target="_blank" href="https://github.com/hellokenlee/">Github</a></li>
			<li><a rel="nofollow" href="/reference/">Links</a></li>
			<li><a href="/feed.xml">Feed</a></li>
		  </ul>
		</li>
	  </ul>
	</nav>
  </div>
</header>

		<div class="docs-header" id="content">
  <div class="container">
  	
		    <h1>HelloKenLee</h1>
    
  </div>
</div>
		
			
<div class="banner">
  <div class="container">
  	
    	<a href="/categories/#算法课解题报告-ref">算法课解题报告</a>	/
    	<a href="/tag/#-ref"></a>
    
  </div>
</div>

		

		<style type="text/css">
	img{
		text-align: center;
		clear: both;
		display: block;
		margin: auto;
	}
</style>
<div class="container docs-container">
	<div class="row">
		<div class="col-md-3">
			<div class="sidebar hidden-print" role="complementary">
				<div id="navigation">
  <h1>目录</h1>
  <ul class="nav sidenav">
<!--
    
      
      
      
      

      
        <li><a href="#year_2017">2017</a>
          <ul class="nav">
            <li><a href="#month_2017_July">July</a></li>
      

      
            
          
              <li><a href="#month_2017_June">June</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_May">May</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_April">April</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_March">March</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_February">February</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
        
            </ul>
          </li>
          <li><a href="#year_2016">2016</a>
            <ul class="nav">
              <li><a href="#month_2016_December">December</a></li>
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2016_November">November</a></li>
          
        
      
    
      
      
      
      

      

      
            </ul>
          </li>
      
    
-->
  </ul>
</div> 
			</div>
		</div>
		<div class="col-md-9" role="main">
			<div class="panel docs-content">
				<div class="wrapper">
						<header class="post-header">
							<h1 class="post-title">Leetcode 624. Maximum Distance in Arrays 解题报告</h1>
							<div class="meta">Posted on <span class="postdate">Jun 18, 2017</span> By <a target="_blank" href="http://localhost:4000">KenLee</a></div>
							<br />
						</header>
						<article class="post-content">
							<ul id="markdown-toc">
  <li><a href="#题目信息" id="markdown-toc-题目信息">题目信息</a>    <ul>
      <li><a href="#题目-624-maximum-distance-in-arrays" id="markdown-toc-题目-624-maximum-distance-in-arrays">题目： <a href="https://leetcode.com/problems/maximum-distance-in-arrays/#/description">624. Maximum Distance in Arrays</a></a></li>
      <li><a href="#难度-easy" id="markdown-toc-难度-easy">难度： Easy</a></li>
      <li><a href="#正确率-298" id="markdown-toc-正确率-298">正确率： 29.8%</a></li>
      <li><a href="#问题描述" id="markdown-toc-问题描述">问题描述:</a></li>
    </ul>
  </li>
  <li><a href="#问题分析" id="markdown-toc-问题分析">问题分析</a></li>
  <li><a href="#解题思路" id="markdown-toc-解题思路">解题思路</a></li>
  <li><a href="#结果分析" id="markdown-toc-结果分析">结果分析</a></li>
  <li><a href="#源代码" id="markdown-toc-源代码">源代码</a></li>
</ul>

<h3 id="题目信息">题目信息</h3>

<h5 id="题目-624-maximum-distance-in-arrays">题目： <a href="https://leetcode.com/problems/maximum-distance-in-arrays/#/description">624. Maximum Distance in Arrays</a></h5>

<h5 id="难度-easy">难度： Easy</h5>

<h5 id="正确率-298">正确率： 29.8%</h5>

<h5 id="问题描述">问题描述:</h5>

<table>
  <tbody>
    <tr>
      <td>Given m arrays, and each array is sorted in ascending order. Now you can pick up two integers from two different arrays (each array picks one) and calculate the distance. We define the distance between two integers a and b to be their absolute difference</td>
      <td>a-b</td>
      <td>. Your task is to find the maximum distance.</td>
    </tr>
  </tbody>
</table>

<p>Example 1:</p>
<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="nl">Input:</span> 
<span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
 <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span>
<span class="n">Output</span><span class="o">:</span> <span class="mi">4</span>
</code></pre>
</div>
<p>**Explanation: **
One way to reach the maximum distance 4 is to pick 1 in the first or third array and pick 5 in the second array.</p>

<p><strong>Note:</strong></p>

<ol>
  <li>Each given array will have at least 1 number. There will be at least two non-empty arrays.</li>
  <li>The total number of the integers in all the m arrays will be in the range of [2, 10000].</li>
  <li>The integers in the m arrays will be in the range of [-10000, 10000].</li>
</ol>

<h3 id="问题分析">问题分析</h3>

<p>　　该问题的意思是，给出个升序的数组，要你找出不同数组之间差距最大的两个数，返回其差距。注意一定要是不同数组，同一数组不算，差距的计算方式为两个数的差的绝对值。</p>

<p>　　数组中的数的范围为<code class="highlighter-rouge">[-10000,1000]</code>，数组中元素的个数为<code class="highlighter-rouge">[2,10000]</code>。</p>

<h3 id="解题思路">解题思路</h3>

<p>　　(没想到我堕落到写easy题的题解了啊…更没想到我easy题还WA了两次TLE了一次啊！！！)</p>

<p>　　(其实是因为考试复习想找到水题刷了，没想到这道题还挺有意思的。)</p>

<p>　　一开始看到以为是求解最小差距，感觉要以每个数为单位处理。后来才发现要求最大差距，仔细的思考了一下，因为数组内部是升序，因此我们可以把每一个数组想象成数轴上的一个闭区间：数组间的最大差距只可能发生在数组的首尾元素上，因为差距最大的两个数肯定会是某一个数组的头和某一个数组的尾。因此一开始我就把每一个数组的头，尾和其他数组的头尾比较，记录最大的差距。结果这种方法是TLE的，因为每一个数组的头尾都需要和其他数组的头尾比较，所以会有$O(M^2)$的复杂度。</p>

<p>　　一个改进的方法是把所有数组的头尾都放到一个数组里面，然后<code class="highlighter-rouge">sort()</code>一次，取出头尾两个数相减就是最大差距了。这种方法比较tricky的地方就是需要判断最大差距的头尾两个数是否属于同一个数组。我是采用一个哈希表来判断， <code class="highlighter-rouge">hash&lt;key = front, value = back&gt;</code>记录某个数字作为第一个元素对应的最大的最后一个元素是多少。 之后在根据是否同一个数组的信息来判定是否取排序后的数组的哪两个数来求差距。这种方法能过，时间复杂度为$O(MlogM)$</p>

<p>　　后来想到更好的方法，不需要排序，我们只需要在遍历数组们的头尾的过程中记录4个数：最小的数，第二小的数，最大的数，第二大的数。 同时记录哈希表。 这样后面采取类似的方法处理。时间复杂度为$O(M)$。</p>

<h3 id="结果分析">结果分析</h3>

<ul>
  <li>时间复杂度： $ O(M) $ 假设M表示数组的个数。</li>
  <li>空间复杂度： $ O(M) $ 哈希表大小+常数空间。</li>
  <li>通过时间： 25 ms</li>
  <li>击败： ??(直至提交时还没有足够数据统计)</li>
</ul>

<h3 id="源代码">源代码</h3>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">maxDistance</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">arrays</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">distArray</span><span class="p">;</span>
        <span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">sameArray</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">array</span><span class="o">:</span><span class="n">arrays</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">distArray</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">array</span><span class="p">.</span><span class="n">front</span><span class="p">());</span>
            <span class="n">distArray</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">array</span><span class="p">.</span><span class="n">back</span><span class="p">());</span>
            <span class="k">auto</span> <span class="n">it</span> <span class="o">=</span> <span class="n">sameArray</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">array</span><span class="p">.</span><span class="n">front</span><span class="p">());</span>
            <span class="k">if</span><span class="p">(</span><span class="n">it</span> <span class="o">!=</span> <span class="n">sameArray</span><span class="p">.</span><span class="n">end</span><span class="p">()){</span>
                <span class="c1">// 哈希表有这一项， 存距离大的
</span>                <span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">,</span> <span class="n">array</span><span class="p">.</span><span class="n">back</span><span class="p">());</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="c1">// 没有这一项， 新建这一项
</span>                <span class="n">sameArray</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">make_pair</span><span class="p">(</span><span class="n">array</span><span class="p">.</span><span class="n">front</span><span class="p">(),</span> <span class="n">array</span><span class="p">.</span><span class="n">back</span><span class="p">()));</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">sort</span><span class="p">(</span><span class="n">distArray</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">distArray</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
        <span class="kt">int</span> <span class="n">maxDist</span> <span class="o">=</span> <span class="n">distArray</span><span class="p">.</span><span class="n">back</span><span class="p">()</span> <span class="o">-</span> <span class="n">distArray</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
        <span class="k">if</span><span class="p">(</span><span class="n">sameArray</span><span class="p">[</span><span class="n">distArray</span><span class="p">.</span><span class="n">front</span><span class="p">()]</span> <span class="o">==</span> <span class="n">distArray</span><span class="p">.</span><span class="n">back</span><span class="p">()){</span>
            <span class="c1">// 如果最大距离是同一个数组
</span>            <span class="n">maxDist</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">distArray</span><span class="p">.</span><span class="n">back</span><span class="p">()</span> <span class="o">-</span> <span class="n">distArray</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">distArray</span><span class="p">[</span><span class="n">distArray</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">distArray</span><span class="p">.</span><span class="n">front</span><span class="p">());</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">maxDist</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
</div>

						</article>
				</div>
			</div>
			<div class="panel docs-content">
				<article class="post-content">
					<div class="wrapper">
						


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'hellokenlee'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>


 
					</div>
				</article>
			</div>
		</div>
	</div>
</div>

		<footer class="footer" role="contentinfo">
	<div class="container" style="text-align: center;">
		<p class="copyright">Copyright &copy; 2014-2017 <a href="/resume/"><code>KenLee</code></a>.</p>
		<p>Powered by <a href="http://jekyllrb.com">Jekyll</a>, theme from <a href="http://lesscss.cn/">Less</a></p>
	</div>
</footer>

<script src="/styles/js/jquery.min.js"></script>
<script src="/styles/js/bootstrap.min.js"></script>
<script src="/styles/js/holder.min.js"></script>
<script src="/styles/js/application.js"></script>
<script src="/styles/js/lessismore.js"></script>
	</body>
</html>
